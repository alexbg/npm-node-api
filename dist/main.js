module.exports=function(e){var t={};function s(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,s),i.l=!0,i.exports}return s.m=e,s.c=t,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=3)}([function(e,t){e.exports=require("events")},function(e,t){e.exports=require("child_process")},function(e,t){e.exports=require("fs")},function(e,t,s){e.exports=s(5)},function(e,t){e.exports=require("path")},function(e,t,s){"use strict";s.r(t);var n=s(0),i=s.n(n),r=s(2);s(4);var a=class extends i.a{constructor(e){super(),e||(e="./"),this.npmPackage=JSON.parse(Object(r.readFileSync)(e+"package.json"))}getPackage(){return this.npmPackage}getDevDependencies(){return this.npmPackage.devDependencies}getVersionPackage(){return this.npmPackage.version}getAuthor(){return this.npmPackage.author}getScripts(){return this.npmPackage.scripts}getDependencies(){return this.npmPackage.dependencies}getMain(){return this.npmPackage.main}getLicense(){return this.npmPackage.license}getDescription(){return this.npmPackage.description}getPackageVersion(e){let t=[];return e&&(this.hasPackage(e,"dependencies")&&t.push(this.npmPackage.dependencies[e]),this.hasPackage(e,"devDependencies")&&t.push(this.npmPackage.devDependencies[e]),this.hasPackage(e,"optionalDependencies")&&t.push(this.npmPackage.optionalDependencies[e])),t}hasPackage(e){let t=!1;return(this.npmPackage.dependencies&&this.npmPackage.dependencies.hasOwnProperty(e.name)||this.npmPackage.devDependencies&&this.npmPackage.devDependencies.hasOwnProperty(e.name)||this.npmPackage.optionalDependencies&&this.npmPackage.optionalDependencies.hasOwnProperty(e.name))&&(t=!0),e.version&&(this.npmPackage.dependencies&&this.npmPackage.dependencies.hasOwnProperty(e.name)&&this.npmPackage.dependencies[e.name]!=e.version||this.npmPackage.devDependencies&&this.npmPackage.devDependencies.hasOwnProperty(e.name)&&this.npmPackage.devDependencies[e.name]!=e.version||this.npmPackage.optionalDependencies&&this.npmPackage.optionalDependencies.hasOwnProperty(e.name&&this.npmPackage.optionalDependencies[e.name]!=e.version))&&(t=!1),t}hasPackageInDependencies(e){return!!this.npmPackage.dependencies.hasOwnProperty(e)}hasPackageInDevDependencies(e){return!!this.npmPackage.devDependencies.hasOwnProperty(e)}hasPackageInOptionalDependencies(e){return!!this.npmPackage.optionalDependencies.hasOwnProperty(e)}},o=s(1);var p=class{constructor(){this.action,this.arguments=[],this.required={},this.errors={}}static hasNpm(){try{return Object(o.execSync)("npm -v")}catch(e){return console.log("npm is not installed"),!1}}checkErrors(e,t){let s=!0;return Object.keys(t).forEach(n=>{!e.hasOwnProperty(n)&&t[n].required?(s=!1,this.errors[n]="required"):e.hasOwnProperty(n)&&typeof e[n]!=t[n].value&&(s=!1,this.errors[n]="must be "+t[n].value)}),s}reset(){this.arguments=[]}launchExec(e){this.errors=!1;let t=["npm",this.action].concat(this.arguments);console.log("COMMNAD: "+t.join(" ")),Object(o.exec)(t.join(" "),(t,s,n)=>{t&&e(n)})}};var c=class extends p{constructor(e){super(),this.valueTypes={save:{value:"string",required:!0},name:{value:"string",required:!0},version:{value:"string",required:!0},versionRange:{value:"object"},scope:{value:"string"},global:{value:"boolean",required:!0}},this.options=Object.assign({start:!0,save:"dev",version:"latest",global:!1},e)}prepareCommand(){this.reset(),this.action="install",this.setVersion(),this.setSaveMode(),this.setGlobal(),this.arguments.push(this.options.command),this.options.arguments&&this.options.arguments.length&&(this.arguments=this.arguments.concat(this.options.arguments))}setVersion(){if(this.options.version){let e=this.options.version,t=this.options.name;"object"==typeof e&&(e=this.getVersionRange(e)),this.options.scope&&(t=this.options.scope+"/"+this.options.name),this.arguments.push(t+"@"+e)}}setGlobal(){this.options.global&&this.arguments.push("--global")}getVersionRange(e){let t;return t=">="+e.minor+" ",'"'+(t+="<="+e.mayor)+'"'}setSaveMode(){this.options.save?this.arguments.push("--save-"+this.options.save):this.arguments.push("--no-save")}launch(e){return new Promise((e,t)=>{this.checkErrors(this.options,this.valueTypes)?(this.prepareCommand(),this.launchExec(e)):t(this.errors)})}};var h=class extends p{constructor(e){super(),this.valueTypes={save:{value:"string",required:!0},name:{value:"string",required:!0},version:{value:"string"},versionRange:{value:"object"},scope:{value:"string"},global:{value:"boolean",required:!0}},this.options=Object.assign({start:!0,save:"dev",global:!1},e)}prepareCommand(){this.reset(),this.action="uninstall",this.setName(),this.setSaveMode(),this.setGlobal(),this.arguments.push(this.options.command),this.options.arguments&&this.options.arguments.length&&(this.arguments=this.arguments.concat(this.options.arguments))}setVersion(){if(this.options.version){let e=this.options.version,t=this.options.name;"object"==typeof e&&(e=this.getVersionRange(e)),this.options.scope&&(t=this.options.scope+"/"+this.options.name),this.arguments.push(t+"@"+e)}}setName(){if(this.options.version)this.setVersion();else{let e=this.options.name;this.options.scope&&(e=this.options.scope+"/"+this.options.name),this.arguments.push(e)}}setGlobal(){this.options.global&&this.arguments.push("--global")}getVersionRange(e){let t;return t=">="+e.minor+" ",'"'+(t+="<="+e.mayor)+'"'}setSaveMode(){this.options.save?this.arguments.push("--save-"+this.options.save):this.arguments.push("--no-save")}launch(e){return new Promise((e,t)=>{this.checkErrors(this.options,this.valueTypes)?(this.prepareCommand(),this.launchExec(e)):t(this.errors)})}};var u=class extends p{constructor(e){super(),this.valueTypes={command:{value:"string",required:!0},arguments:{value:"string"}},this.options=Object.assign({start:!0},e)}prepareCommand(){this.reset(),this.action="run",this.arguments.push(this.options.command),this.options.arguments&&this.options.arguments.length&&(this.arguments=this.arguments.concat(this.options.arguments))}launch(e){return new Promise((e,t)=>{this.checkErrors(this.options,this.valueTypes)?(this.prepareCommand(),this.launchExec(e)):t(this.errors)})}};t.default=class extends i.a{constructor(e){if(super(),!p.hasNpm())return null;this.npmPackage=new a}install(e){let t=new c(e);return t.options.start?new Promise((e,s)=>{t.launch().then(t=>{e(t)}).catch(e=>{s(e)})}):t}uninstall(e){if(this.npmPackage.hasPackage(e)){let t=new h(e);return t.options.start?new Promise((e,s)=>{t.launch().then(t=>{e(t)}).catch(e=>{s(e)})}):t}return null}run(e){let t=new u(e);return t.options.start?new Promise((e,s)=>{t.launch().then(t=>{e(t)}).catch(e=>{s(e)})}):t}}}]).default;